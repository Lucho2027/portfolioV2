import{h as G,r as k,j as C,i as ve,m as Z,N as O,F as X,k as x,l as de,n as _,_ as he,q as we,s as le,v as ne,P as $e,x as K,o as N,f as re,w as H,z as j,a as ue,D as se,b as q,T as ie,E as U,c as W,J as z,Q as ke}from"./entry.VJkcEQ3a.js";import{b as Ce,u as Ee}from"./selectMenu.CPVhT6WU.js";import{u as Fe}from"./usePopper.wEOmE6l_.js";import{o as l,u as D,H as ee,t as A,N as pe,a as I}from"./dom.0hOOROr2.js";import{m as oe,E as te,w as Te,h as Be,P as M,N as T,T as J}from"./focus-management.Vkug-2By.js";import{c as Oe,l as R,p as Ie}from"./open-closed.9Mzv811c.js";import{b as Me}from"./use-resolve-button-type.v06lpx-E.js";import{y as De}from"./use-outside-click.3YkNwgHn.js";import{V as Ne,p as He,E as je,n as ce,d as B}from"./use-root-containers.cuxUgENZ.js";import{f as Q,a as Y}from"./hidden.dgTOTPBv.js";import"./index.eWgtsMOp.js";import"./index.Rtp-oiOn.js";const Ae={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},arrow:Ce};var Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{});let fe=Symbol("PopoverContext");function ae(e){let b=_(fe,null);if(b===null){let S=new Error(`<${e} /> is missing a parent <${ge.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(S,ae),S}return b}let Ve=Symbol("PopoverGroupContext");function me(){return _(Ve,null)}let be=Symbol("PopoverPanelContext");function ze(){return _(be,null)}let ge=G({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:b,attrs:S,expose:E}){var t;let o=k(null);E({el:o,$el:o});let f=k(1),r=k(null),P=k(null),v=k(null),c=k(null),h=C(()=>oe(o)),F=C(()=>{var a,u;if(!l(r)||!l(c))return!1;for(let V of document.querySelectorAll("body > *"))if(Number(V==null?void 0:V.contains(l(r)))^Number(V==null?void 0:V.contains(l(c))))return!0;let i=te(),$=i.indexOf(l(r)),L=($+i.length-1)%i.length,ye=($+1)%i.length,Pe=i[L],Se=i[ye];return!((a=l(c))!=null&&a.contains(Pe))&&!((u=l(c))!=null&&u.contains(Se))}),d={popoverState:f,buttonId:k(null),panelId:k(null),panel:c,button:r,isPortalled:F,beforePanelSentinel:P,afterPanelSentinel:v,togglePopover(){f.value=D(f.value,{0:1,1:0})},closePopover(){f.value!==1&&(f.value=1)},close(a){d.closePopover();let u=a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?l(a):l(d.button):l(d.button);u==null||u.focus()}};ve(fe,d),Oe(C(()=>D(f.value,{0:R.Open,1:R.Closed})));let w={buttonId:d.buttonId,panelId:d.panelId,close(){d.closePopover()}},y=me(),p=y==null?void 0:y.registerPopover,[g,s]=Ne(),n=He({mainTreeNodeRef:y==null?void 0:y.mainTreeNodeRef,portals:g,defaultContainers:[r,c]});function m(){var a,u,i,$;return($=y==null?void 0:y.isFocusWithinPopoverGroup())!=null?$:((a=h.value)==null?void 0:a.activeElement)&&(((u=l(r))==null?void 0:u.contains(h.value.activeElement))||((i=l(c))==null?void 0:i.contains(h.value.activeElement)))}return Z(()=>p==null?void 0:p(w)),je((t=h.value)==null?void 0:t.defaultView,"focus",a=>{var u,i;a.target!==window&&a.target instanceof HTMLElement&&f.value===0&&(m()||r&&c&&(n.contains(a.target)||(u=l(d.beforePanelSentinel))!=null&&u.contains(a.target)||(i=l(d.afterPanelSentinel))!=null&&i.contains(a.target)||d.closePopover()))},!0),De(n.resolveContainers,(a,u)=>{var i;d.closePopover(),Te(u,Be.Loose)||(a.preventDefault(),(i=l(r))==null||i.focus())},C(()=>f.value===0)),()=>{let a={open:f.value===0,close:d.close};return O(X,[O(s,{},()=>ee({theirProps:{...e,...S},ourProps:{ref:o},slot:a,slots:b,attrs:S,name:"Popover"})),O(n.MainTreeNode)])}}}),Re=G({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${A()}`}},inheritAttrs:!1,setup(e,{attrs:b,slots:S,expose:E}){let t=ae("PopoverButton"),o=C(()=>oe(t.button));E({el:t.button,$el:t.button}),x(()=>{t.buttonId.value=e.id}),de(()=>{t.buttonId.value=null});let f=me(),r=f==null?void 0:f.closeOthers,P=ze(),v=C(()=>P===null?!1:P.value===t.panelId.value),c=k(null),h=`headlessui-focus-sentinel-${A()}`;v.value||Z(()=>{t.button.value=c.value});let F=Me(C(()=>({as:e.as,type:b.type})),c);function d(n){var m,a,u,i,$;if(v.value){if(t.popoverState.value===1)return;switch(n.key){case I.Space:case I.Enter:n.preventDefault(),(a=(m=n.target).click)==null||a.call(m),t.closePopover(),(u=l(t.button))==null||u.focus();break}}else switch(n.key){case I.Space:case I.Enter:n.preventDefault(),n.stopPropagation(),t.popoverState.value===1&&(r==null||r(t.buttonId.value)),t.togglePopover();break;case I.Escape:if(t.popoverState.value!==0)return r==null?void 0:r(t.buttonId.value);if(!l(t.button)||(i=o.value)!=null&&i.activeElement&&!(($=l(t.button))!=null&&$.contains(o.value.activeElement)))return;n.preventDefault(),n.stopPropagation(),t.closePopover();break}}function w(n){v.value||n.key===I.Space&&n.preventDefault()}function y(n){var m,a;e.disabled||(v.value?(t.closePopover(),(m=l(t.button))==null||m.focus()):(n.preventDefault(),n.stopPropagation(),t.popoverState.value===1&&(r==null||r(t.buttonId.value)),t.togglePopover(),(a=l(t.button))==null||a.focus()))}function p(n){n.preventDefault(),n.stopPropagation()}let g=ce();function s(){let n=l(t.panel);if(!n)return;function m(){D(g.value,{[B.Forwards]:()=>M(n,T.First),[B.Backwards]:()=>M(n,T.Last)})===J.Error&&M(te().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),D(g.value,{[B.Forwards]:T.Next,[B.Backwards]:T.Previous}),{relativeTo:l(t.button)})}m()}return()=>{let n=t.popoverState.value===0,m={open:n},{id:a,...u}=e,i=v.value?{ref:c,type:F.value,onKeydown:d,onClick:y}:{ref:c,id:a,type:F.value,"aria-expanded":t.popoverState.value===0,"aria-controls":l(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:d,onKeyup:w,onClick:y,onMousedown:p};return O(X,[ee({ourProps:i,theirProps:{...b,...u},slot:m,attrs:b,slots:S,name:"PopoverButton"}),n&&!v.value&&t.isPortalled.value&&O(Q,{id:h,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:s})])}}}),Ge=G({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${A()}`}},inheritAttrs:!1,setup(e,{attrs:b,slots:S,expose:E}){let{focus:t}=e,o=ae("PopoverPanel"),f=C(()=>oe(o.panel)),r=`headlessui-focus-sentinel-before-${A()}`,P=`headlessui-focus-sentinel-after-${A()}`;E({el:o.panel,$el:o.panel}),x(()=>{o.panelId.value=e.id}),de(()=>{o.panelId.value=null}),ve(be,o.panelId),Z(()=>{var p,g;if(!t||o.popoverState.value!==0||!o.panel)return;let s=(p=f.value)==null?void 0:p.activeElement;(g=l(o.panel))!=null&&g.contains(s)||M(l(o.panel),T.First)});let v=Ie(),c=C(()=>v!==null?(v.value&R.Open)===R.Open:o.popoverState.value===0);function h(p){var g,s;switch(p.key){case I.Escape:if(o.popoverState.value!==0||!l(o.panel)||f.value&&!((g=l(o.panel))!=null&&g.contains(f.value.activeElement)))return;p.preventDefault(),p.stopPropagation(),o.closePopover(),(s=l(o.button))==null||s.focus();break}}function F(p){var g,s,n,m,a;let u=p.relatedTarget;u&&l(o.panel)&&((g=l(o.panel))!=null&&g.contains(u)||(o.closePopover(),((n=(s=l(o.beforePanelSentinel))==null?void 0:s.contains)!=null&&n.call(s,u)||(a=(m=l(o.afterPanelSentinel))==null?void 0:m.contains)!=null&&a.call(m,u))&&u.focus({preventScroll:!0})))}let d=ce();function w(){let p=l(o.panel);if(!p)return;function g(){D(d.value,{[B.Forwards]:()=>{var s;M(p,T.First)===J.Error&&((s=l(o.afterPanelSentinel))==null||s.focus())},[B.Backwards]:()=>{var s;(s=l(o.button))==null||s.focus({preventScroll:!0})}})}g()}function y(){let p=l(o.panel);if(!p)return;function g(){D(d.value,{[B.Forwards]:()=>{let s=l(o.button),n=l(o.panel);if(!s)return;let m=te(),a=m.indexOf(s),u=m.slice(0,a+1),i=[...m.slice(a+1),...u];for(let $ of i.slice())if($.dataset.headlessuiFocusGuard==="true"||n!=null&&n.contains($)){let L=i.indexOf($);L!==-1&&i.splice(L,1)}M(i,T.First,{sorted:!1})},[B.Backwards]:()=>{var s;M(p,T.Previous)===J.Error&&((s=l(o.button))==null||s.focus())}})}g()}return()=>{let p={open:o.popoverState.value===0,close:o.close},{id:g,focus:s,...n}=e,m={ref:o.panel,id:g,onKeydown:h,onFocusout:t&&o.popoverState.value===0?F:void 0,tabIndex:-1};return ee({ourProps:m,theirProps:{...b,...n},attrs:b,slot:p,slots:{...S,default:(...a)=>{var u;return[O(X,[c.value&&o.isPortalled.value&&O(Q,{id:r,ref:o.beforePanelSentinel,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:w}),(u=S.default)==null?void 0:u.call(S,...a),c.value&&o.isPortalled.value&&O(Q,{id:P,ref:o.afterPanelSentinel,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:y})])]}},features:pe.RenderStrategy|pe.Static,visible:c.value,name:"PopoverPanel"})}}});const Ke=we(le.ui.strategy,le.ui.popover,Ae),qe=G({components:{HPopover:ge,HPopoverButton:Re,HPopoverPanel:Ge},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e){const{ui:b,attrs:S}=Ee("popover",ne(e,"ui"),Ke,ne(e,"class")),E=C(()=>$e(e.mode==="hover"?{offsetDistance:0}:{},e.popper,b.value.popper)),[t,o]=Fe(E.value),f=k(null),r=k(null);let P=null,v=null;x(()=>{var y;const d=(y=f.value)==null?void 0:y.$.provides;if(!d)return;const w=Object.getOwnPropertySymbols(d);r.value=w.length&&d[w[0]]});const c=C(()=>{var y,p;const w=`${((y=e.popper)==null?void 0:y.offsetDistance)||((p=b.value.popper)==null?void 0:p.offsetDistance)||8}px`;return e.mode==="hover"?{paddingTop:w,paddingBottom:w,paddingLeft:w,paddingRight:w}:{}});function h(){e.mode!=="hover"||!r.value||(v&&(clearTimeout(v),v=null),r.value.popoverState!==0&&(P=P||setTimeout(()=>{r.value.togglePopover&&r.value.togglePopover(),P=null},e.openDelay)))}function F(){e.mode!=="hover"||!r.value||(P&&(clearTimeout(P),P=null),r.value.popoverState!==1&&(v=v||setTimeout(()=>{r.value.closePopover&&r.value.closePopover(),v=null},e.closeDelay)))}return{ui:b,attrs:S,popover:f,popper:E,trigger:t,container:o,containerStyle:c,onMouseOver:h,onMouseLeave:F}}}),Ue=["disabled"];function We(e,b,S,E,t,o){const f=K("HPopoverButton"),r=K("HPopoverPanel"),P=K("HPopover");return N(),re(P,U({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:H(({open:v,close:c})=>[q(f,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseover:e.onMouseOver},{default:H(()=>[se(e.$slots,"default",{open:e.open!==void 0?e.open:v,close:c},()=>[ue("button",{disabled:e.disabled}," Open ",8,Ue)])]),_:2},1032,["disabled","class","onMouseover"]),e.overlay?(N(),re(ie,U({key:0,appear:""},e.ui.overlay.transition),{default:H(()=>[(e.open!==void 0?e.open:v)?(N(),W("div",{key:0,class:j([e.ui.overlay.base,e.ui.overlay.background]),onClick:b[0]||(b[0]=h=>e.$emit("update:open"))},null,2)):z("",!0)]),_:2},1040)):z("",!0),(e.open!==void 0?e.open:v)?(N(),W("div",{key:1,ref:"container",class:j([e.ui.container,e.ui.width]),style:ke(e.containerStyle),onMouseover:b[1]||(b[1]=(...h)=>e.onMouseOver&&e.onMouseOver(...h))},[q(ie,U({appear:""},e.ui.transition),{default:H(()=>[ue("div",null,[e.popper.arrow?(N(),W("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):z("",!0),q(r,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:H(()=>[se(e.$slots,"panel",{open:e.open!==void 0?e.open:v,close:c})]),_:2},1032,["class"])])]),_:2},1040)],38)):z("",!0)]),_:3},16,["class","onMouseleave"])}const no=he(qe,[["render",We]]);export{no as default};
